<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}" />
    <title>Editing log</title>
  </head>

  <body class="bg-rest">
    <a class="btn btn-dark btn-block mx-1" style="font-size: 20px; position: absolute; right: 20px" href="/"
      >Logout <i class="bi bi-box-arrow-right"></i
    ></a>
    <h1 class="mx-3 my-3" style="font-size: 60px">Edit your log</h1>
    <div class="container mx-2 my-5" style="font-size: 25px; color: white">
      <!-- New form start here -->
      <form action="/edit_log/{{log['tracker_id']}}/{{log['log_id']}}" method="post">
        <div class="row mb-3">
          <label for="timestamp" class="col-sm-2 col-form-label">Time stamp</label>
          <div class="col-sm-10">
            <input
              type="datetime-local"
              class="form-control"
              name="timestamp"
              value="{{log['timestamp'].strftime('%Y-%m-%dT%H:%M')}}"
            />
          </div>
        </div>
        <div class="row mb-3">
          <label for="value" class="col-sm-2 col-form-label">Value</label>
          <div class="col-sm-10">
            {% if tracker['tracker_type'] == "Numerical" %}
            <input type="number" class="form-control" step="any" name="value" value="{{log['value']}}" />
            {% else %}
            <select name="value" class="form-select" required>
              <option selected disabled>Open this select menu</option>
              {% for choice in tracker['options'].split(',') %}
              <option value="{{choice}}">{{choice}}</option>
              {% endfor %}
            </select>
            {% endif %}
          </div>
        </div>
        <div class="row mb-3">
          <label for="note" class="col-sm-2 col-form-label">Note</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="note" value="{{log['note']}}" />
          </div>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
      <!-- new form end here -->

      <!-- <form action="/edit_log/{{log['tracker_id']}}/{{log['log_id']}}" method="post">
        <label for="timestamp"><h3>Time stamp</h3></label>
        <input type="datetime-local" name="timestamp" value="{{log['timestamp'].strftime('%Y-%m-%dT%H:%M')}}" />
        <br />
        <br />
        <label for="value"><h3>Value</h3></label>
        {% if tracker['tracker_type'] == "Numerical" %}
        <input type="number" step="any" name="value" value="{{log['value']}}" />
        {% else %}
        <select name="value" required>
          {% for choice in tracker['options'].split(',') %}
          <option value="{{choice}}">{{choice}}</option>
          {% endfor %}
        </select>
        {% endif %} <br />
        <br />
        <label for="note"><h3>Note</h3></label>
        <input type="text" name="note" value="{{log['note']}}" /> <br />
        <br />
        <button class="btn btn-primary btn-lg" style="position: relative; bottom: -10px" type="submit">Submit</button>
      </form> -->
    </div>
    <a class="mx-2 my-5 text-light btn btn-dark" style="font-size: 20px" href="/view_log/{{log['tracker_id']}}">
      <b>view log</b>
    </a>
    <a class="mx-2 my-5 text-light btn btn-dark" style="font-size: 20px" href="/dashboard/{{tracker['user_id']}}"
      ><b> Go to dashboard</b>
    </a>

    <!------------------------------------------------ JS FOR BOOTSTRAP ------------------------------------------------------------->

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
      integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
